<script src="/resources/cookie.js"></script>
<script>
    function manageNavbarColors() {
        let activeItem = localStorage.getItem('activeNavItem');
        let navItems = ['nav-item-locations', 'nav-item-teaching', 'nav-item-schedule'];

        for (i = 0; i < navItems.length; i++) {
            $('#' + navItems[i]).css('background-color', 'white');
        }

        $('#' + activeItem).css('background-color', 'moccasin');

    }
    manageNavbarColors();
</script>
<header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between px-4 py-3 mb-4 border-bottom">
    <a id="username" href="/homepage" class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none">
        <script>
            let currentUser = getCookie("username");
            console.log("current user is " + currentUser);
            $('#username').text(currentUser);
        </script>
    </a>
    <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
        <li class="nav-item" id="nav-item-studying" onclick="saveModeAndRedirect('nav-item-studying', '/studying')"><a id="link-locations" class="nav-link">Study</a></li>
        <li class="nav-item" id="nav-item-teaching" onclick="saveModeAndRedirect('nav-item-teaching', '/teaching')"><a id="link-teaching" class="nav-link">Teaching</a></li>
        <li class="nav-item" id="nav-item-schedule" onclick="saveModeAndRedirect('nav-item-schedule', '/schedule')"><a id="link-schedule" class="nav-link">Schedule</a></li>
    </ul>

    <div class="col-md-3 text-end">
        <button type="button" class="btn btn-outline-secondary me-2" onclick="location.href='/logout'">Logout</button>
    </div>
</header>

<script>
    function saveModeAndRedirect(id, url) {
        localStorage.setItem('activeNavItem', id);
        location.href = url;
    }
</script>